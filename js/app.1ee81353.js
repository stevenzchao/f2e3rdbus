(function(t){function e(e){for(var a,i,s=e[0],u=e[1],c=e[2],l=0,d=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,i=1;i<o.length;i++){var u=o[i];0!==r[u]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},r={app:0},n=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"8281c8a7"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(t){var e=[],o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=r[t]=[e,a]}));e.push(o[2]=a);var n,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(t);var c=new Error;n=function(e){u.onerror=u.onload=null,clearTimeout(l);var o=r[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,o[1](c)}r[t]=void 0}};var l=setTimeout((function(){n({type:"timeout",target:u})}),12e4);u.onerror=u.onload=n,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/<Repository_Name>/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var p=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),o("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),o("router-view")],1)},n=[],i=(o("5c0b"),o("2877")),s={},u=Object(i["a"])(s,r,n,!1,null,null,null),c=u.exports,l=(o("d3b7"),o("3ca3"),o("ddb0"),o("8c4f")),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("Map")],1)},d=[],f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticStyle:{display:"flex"}},[o("div",{staticStyle:{margin:"5px"}},[t._m(0),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputPassword3"}},[t._v("公車路線")]),o("div",{staticClass:"col-sm-8"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.busRoute,expression:"busRoute"}],staticClass:"form-control",attrs:{type:"text",id:"inputPassword3",placeholder:"輸入公車路線"},domProps:{value:t.busRoute},on:{input:function(e){e.target.composing||(t.busRoute=e.target.value)}}})])]),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-sm-4"},[o("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.searchRoute()}}},[t._v("搜尋")])])])]),o("div",{attrs:{id:"map"}})])])},m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-4 col-form-label",attrs:{for:"inputEmail3"}},[t._v("城市")]),o("div",{staticClass:"col-sm-8"},[o("input",{staticClass:"form-control",attrs:{type:"text",id:"inputEmail3",placeholder:"輸入城市",value:"台北",disabled:""}})])])}],h=(o("d81d"),o("e11e")),v=o.n(h),F=o("6c2d");console.log(v.a);var b={},g=new v.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),y={name:"Map",data:function(){return{busRoute:"",data:"",osmMap:{}}},methods:{getAuthorizationHeader:function(){var t="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",e="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",o=(new Date).toGMTString(),a=new F["a"]("SHA-1","TEXT");a.setHMACKey(e,"TEXT"),a.update("x-date: "+o);var r=a.getHMAC("B64"),n='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+r+'"';return{Authorization:n,"X-Date":o}},searchRoute:function(){var t=this;if(""!=this.data){console.log("in here!!!!!!!!!!!!!");for(var e=[],o=0;o<this.data[0].Stops.length;o++){var a=new v.a.marker([this.data[0].Stops[o].StopPosition.PositionLat,this.data[0].Stops[o].StopPosition.PositionLon]);console.log("layer",a),e.push(a)}var r=v.a.layerGroup(e);b.addLayer(r),r.clearLayers()}var n=this.busRoute;this.$http.get("https://ptx.transportdata.tw/MOTC/v2/Bus/DisplayStopOfRoute/City/Taipei/".concat(n,"?&$format=JSON"),{headers:this.getAuthorizationHeader()}).then((function(e){t.data=e.data,console.log(t.data);for(var o=0;t.data[0].Stops.length>o;o++)v.a.marker([t.data[0].Stops[o].StopPosition.PositionLat,t.data[0].Stops[o].StopPosition.PositionLon],{icon:g}).addTo(b).bindPopup("<p>"+t.data[0].Stops[o].StopName.Zh_tw+"</p>")}))}},mounted:function(){b=v.a.map("map",{center:[25.03,121.55],zoom:12}),v.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'<a target="_blank" href="https://www.openstreetmap.org/">© OpenStreetMap 貢獻者</a>',maxZoom:18}).addTo(b)}},w=y,S=(o("badf"),Object(i["a"])(w,f,m,!1,null,"674afadc",null)),_=S.exports,x={name:"Home",components:{Map:_}},P=x,C=Object(i["a"])(P,p,d,!1,null,null,null),O=C.exports;a["a"].use(l["a"]);var j=[{path:"/",name:"Home",component:O},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],k=new l["a"]({mode:"history",base:"/<Repository_Name>/",routes:j}),T=k,M=o("2f62");a["a"].use(M["a"]);var A=new M["a"].Store({state:{},mutations:{},actions:{},modules:{}}),E=o("bc3a"),R=o.n(E),L=o("130e");o("1157"),o("4989");a["a"].config.productionTip=!1,a["a"].use(L["a"],R.a),new a["a"]({router:T,store:A,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"9c0c":function(t,e,o){},a4d0:function(t,e,o){},badf:function(t,e,o){"use strict";o("a4d0")}});
//# sourceMappingURL=app.1ee81353.js.map